{
  "testCases": [
    {
      "id": "TC-001",
      "feature": "フォームリセット機能",
      "description": "「リセット（終話）」ボタンを押した際に、「担当者/AP名」以外のフィールドのみが初期化されることを確認する。",
      "steps": [
        "「担当者/AP名」に 'テスト担当' と入力する。",
        "任意のタブ（例：電気）を開き、「契約者名義」に 'テスト契約者' と入力する。",
        "画面右下の「リセット(終話)」ボタンをクリックする。",
        "表示された確認モーダルで「はい、リセットする」をクリックする。"
      ],
      "expectedResult": "「担当者/AP名」フィールドには 'テスト担当' が残っていること。「契約者名義」フィールドは空になっていること。"
    },
    {
      "id": "TC-002",
      "feature": "自動リセットタイマー解除",
      "description": "コメントをコピー後にタブを切り替えると、自動リセットタイマーが解除されることを確認する。",
      "steps": [
        "必須項目をすべて入力し、コメントが生成される状態にする。",
        "「コピー」ボタンをクリックする。",
        "成功のトーストメッセージが表示されることを確認する。",
        "別のタブ（例：「電気」から「ガス」へ）に切り替える。",
        "タイマー解除のトーストメッセージが表示されることを確認する。"
      ],
      "expectedResult": "「タブを切り替えたため、自動リセットはキャンセルされました。」というメッセージが表示され、フォームの内容が保持されていること。"
    },
    {
      "id": "TC-003",
      "feature": "レコードIDに基づく名乗り自動設定",
      "description": "レコードIDのプレフィックスに応じて、「名乗り」フィールドが正しく自動設定されるか確認する。",
      "steps": [
        "電気タブを開き、「担当者/AP名」を入力し、「名乗り」が空であることを確認する。",
        "「レコードID」に 'S12345' と入力する。",
        "「名乗り」フィールドの値を確認する。",
        "「レコードID」をクリアし、'SR12345' と入力する。",
        "「名乗り」フィールドの値を確認する。",
        "「レコードID」をクリアし、'STJP:12345' と入力する。",
        "「名乗り」フィールドの値を確認する。"
      ],
      "expectedResult": "'S12345'入力後、「名乗り」が「レプリス株式会社」になること。'SR12345'入力後、「名乗り」は「レプリス株式会社」にならず、以前の値（空欄など）が維持されること。'STJP:12345'入力後も同様に、「名乗り」は変更されないこと。"
    },
    {
      "id": "TC-004",
      "feature": "プラチナでんき（ジャパン電力）のコメント生成ロジック",
      "description": "契約確認が「なし」の場合に、ヘッダーが「/★インポートのみ/」になり、「付帯OP」が表示されることを確認する。",
      "steps": [
        "電気タブを開く。",
        "商材で「プラチナでんき（ジャパン）」を選択する。",
        "レコードIDに 'SR12345' を入力する。",
        "オール電化を「なし」に設定する。",
        "空室を「なし」に設定する。",
        "「契確は必要ですか？」で「なし」を選択する。",
        "その他必須項目を埋める。"
      ],
      "expectedResult": "生成されたコメントのヘッダーが「【JAPAN電力/★インポートのみ】HAHZZT182...」で始まり、コメント内に「付帯OP：」という行が含まれていること。"
    },
    {
      "id": "TC-005",
      "feature": "GMOフォーム復元",
      "description": "インターネットタブで「GMOドコモ光」を選択した際に、準備中ではなく専用の入力フォームが表示されることを確認する。",
      "steps": [
        "インターネットタブを開く。",
        "商材で「GMOドコモ光」を選択する。"
      ],
      "expectedResult": "「顧客ID」「名乗り会社名」「工事費分割案内済」などのGMOドコモ光専用のフォーム項目が表示されること。"
    },
    {
      "id": "TC-006",
      "feature": "すまいのでんき `code:` 案件の自動設定",
      "description": "電気タブでレコードIDに `code:` で始まる値を入力した際に、「空室」が自動的に「あり」に設定され、専用コメントが生成されることを確認する。",
      "steps": [
        "電気タブを開く。",
        "商材で「すまいのでんき（ストエネ）」を選択する。",
        "レコードIDに 'code:12345' を入力する。",
        "フォーム上の「空室」の値を確認する。",
        "その他必須項目を埋めて、生成コメントを確認する。"
      ],
      "expectedResult": "レコードID入力後、「空室」が「あり」に自動で設定されること。生成されたコメントが「【ストエネ/★インポートのみ/賃貸/※空室プランHAHZZT241】...」で始まる専用の形式であること。"
    },
    {
      "id": "TC-007",
      "feature": "キューエネスでんき `No.` 案件の条件付きフォーム",
      "description": "電気タブでレコードIDに `No.` で始まる値を入力した場合にのみ「空室」選択肢が表示され、空室ありの場合に専用コメントが生成されることを確認する。",
      "steps": [
        "電気タブを開く。",
        "商材で「キューエネスでんき」を選択する。",
        "レコードIDに 'ID:12345' を入力し、「空室」の選択肢が表示されないことを確認する。",
        "レコードIDを 'No.67890' に変更し、「空室」の選択肢が表示されることを確認する。",
        "「空室」で「あり」を選択する。",
        "その他必須項目を埋めて、生成コメントを確認する。"
      ],
      "expectedResult": "レコードIDが 'No.' で始まる場合のみ「空室」選択肢が表示されること。「空室：あり」の場合、生成コメントが「【キューエネスでんき】※ケイアイ空室通電...」で始まる専用の形式であること。"
    },
    {
      "id": "TC-008",
      "feature": "リミックスでんきの新コメントテンプレート",
      "description": "電気タブで「リミックスでんき」を選択した際に、新しい指定のテンプレートでコメントが生成されることを確認する。",
      "steps": [
        "電気タブを開く。",
        "商材で「リミックスでんき」を選択する。",
        "必須項目（レコードID, 名乗り, 担当者, 契約者名義など）をすべて入力する。",
        "郵送先情報も入力する。"
      ],
      "expectedResult": "生成されたコメントが「【リミックスでんき/★インポートのみ】...」で始まり、プランが「ベーシックプラン」で固定されており、郵送先情報が正しく反映されていること。"
    },
    {
      "id": "TC-009",
      "feature": "住所自動入力制限",
      "description": "「サカイ販路」がオフの場合に、設置先郵便番号を入力しても住所が自動入力されないことを確認する。",
      "steps": [
        "「サカイ販路」チェックボックスがオフであることを確認する。",
        "任意のタブで「設置先情報」の「郵便番号」に '1000001' を入力する。",
        "数秒待機し、「住所」フィールドを確認する。"
      ],
      "expectedResult": "「住所」フィールドは空のままであること。"
    },
    {
      "id": "TC-010",
      "feature": "住所自動入力（サカイ販路）",
      "description": "「サカイ販路」がオンの場合に、設置先郵便番号を入力すると住所が自動入力されることを確認する。",
      "steps": [
        "「サカイ販路」チェックボックスをオンにする。",
        "任意のタブで「設置先情報」の「郵便番号」に '1000001' を入力する。",
        "数秒待機し、「住所」フィールドを確認する。"
      ],
      "expectedResult": "「住所」フィールドに '東京都千代田区千代田' が自動で入力されること。"
    },
    {
      "id": "TC-011",
      "feature": "U-POWERコメント（新築）",
      "description": "電気タブでU-POWERを選択し、「新築：はい」の場合に専用コメントが生成されることを確認する。",
      "steps": [
        "電気タブを開く。",
        "商材で「ユーパワー UPOWER」を選択する。",
        "「新築」で「はい」を選択する。",
        "その他必須項目を埋める。"
      ],
      "expectedResult": "生成されたコメントのヘッダーが「【U-POWER】【新築再点】...」で始まること。"
    },
    {
      "id": "TC-012",
      "feature": "すまいのでんき新ロジック（SR・契確あり）",
      "description": "すまいのでんき（ストエネ）で、IDがSRで始まり、契確ありが選択された場合に正しいコメントが生成されることを確認する。",
      "steps": [
        "電気タブを開き、商材で「すまいのでんき（ストエネ）」を選択。",
        "レコードIDに 'SR12345' を入力。",
        "オール電化「なし」、空室「なし」、契確「あり」、ガスセット「セット」を選択。",
        "その他必須項目を埋める。"
      ],
      "expectedResult": "生成されたコメントのヘッダーが「【ストエネ/賃貸】...」で始まり、プラン名が「賃貸セット」と正しく表示されていること。"
    },
    {
      "id": "TC-013",
      "feature": "すまいのでんき新ロジック（code・インポート）",
      "description": "すまいのでんき（ストエネ）で、IDが 'code:' で始まる場合に、インポート専用の正しいコメントが生成されることを確認する。",
      "steps": [
        "電気タブを開き、商材で「すまいのでんき（ストエネ）」を選択。",
        "レコードIDに 'code:12345' を入力。",
        "オール電化「あり」を選択。",
        "その他必須項目（性別含む）を埋める。"
      ],
      "expectedResult": "生成されたコメントのヘッダーが「【ストエネ/★インポートのみ/賃貸/※空室プランHAHZZT241】...」で始まり、プラン名が「オール電化プラン」と正しく表示され、「付帯OP」の行が含まれていること。フォームに「性別」の入力欄が表示されること。"
    },
    {
      "id": "TC-014",
      "feature": "プラチナでんき新ロジック（サカイ・インポート）",
      "description": "プラチナでんきで、サカイ販路が選択され、オール電化でない場合に、インポート専用の正しいコメントが生成されることを確認する。",
      "steps": [
        "「サカイ販路」をオンにする。",
        "電気タブを開き、商材で「プラチナでんき（ジャパン）」を選択。",
        "オール電化「なし」を選択。",
        "その他必須項目（性別含む）を埋める。"
      ],
      "expectedResult": "生成されたコメントのヘッダーが「【JAPAN電力/★インポートのみ】HAHZZT259...」で始まり、備考が「5000CB」で固定されていること。フォームに「性別」の入力欄が表示されること。"
    },
    {
      "id": "TC-015",
      "feature": "Itanji Route Greeting Auto-fill",
      "description": "When record ID starts with 'ID:', the greeting field in Elec/Gas tab should auto-fill with 'すまえる'.",
      "steps": [
        "Navigate to the '電気' tab.",
        "Ensure 'サカイ販路' is unchecked.",
        "In the 'レコードID' field, type 'ID:12345'."
      ],
      "expectedResult": "The '名乗り' field should automatically be populated with 'すまえる'."
    },
    {
      "id": "TC-016",
      "feature": "Itanji Route Greeting Isolation",
      "description": "The 'すまえる' greeting from Elec/Gas tabs should not carry over to the Internet tab for 'ID:' records.",
      "steps": [
        "Complete the steps for TC-015.",
        "Verify the '名乗り' field is 'すまえる'.",
        "Switch to the 'インターネット' tab."
      ],
      "expectedResult": "The '名乗り' field on the Internet tab should be empty."
    },
    {
      "id": "TC-017",
      "feature": "Date of Birth Validation (Under 15)",
      "description": "Show a confirmation modal if the entered date of birth results in an age less than 15.",
      "steps": [
        "Navigate to any tab with a '生年月日' field.",
        "Enter a date that makes the person 14 years old (e.g., if today is 2024-08-28, enter '2010/08/28').",
        "Click or tab away from the input field to trigger the blur event."
      ],
      "expectedResult": "A modal dialog should appear with the message '生年月日は正しいですか？ (15歳未満です)'."
    },
    {
      "id": "TC-018",
      "feature": "Move-in Date Validation (5+ Years Ago)",
      "description": "Show a confirmation modal if the entered move-in date is 5 or more years in the past.",
      "steps": [
        "Navigate to any tab with an '入居予定日' or '利用開始日' field.",
        "Enter a date that is exactly 5 years ago from today.",
        "Click or tab away from the input field."
      ],
      "expectedResult": "A modal dialog should appear with the message '入居予定日は正しいですか？ (5年以上前です)'."
    },
    {
      "id": "TC-019",
      "feature": "Qenes Denki Plan Name Fix",
      "description": "The plan name for 'キューエネスでんき' should always be 'エコhome' in the generated comment.",
      "steps": [
        "Navigate to the '電気' tab.",
        "Select 'キューエネスでんき' as the provider.",
        "Enter 'ID:12345' as the record ID.",
        "Fill in other required fields.",
        "Check the '生成コメント'."
      ],
      "expectedResult": "The generated comment should contain the line 'プラン：エコhome'."
    },
    {
        "id": "TC-020",
        "feature": "すまいのでんき/プラチナでんき Email Field",
        "description": "「すまいのでんき」または「プラチナでんき」を選択した際に、メールアドレスの入力欄が表示されないことを確認する。",
        "steps": [
            "電気タブを開く。",
            "商材で「すまいのでんき（ストエネ）」を選択する。",
            "「契約者情報」セクションを確認する。",
            "商材を「プラチナでんき（ジャパン）」に変更する。",
            "「契約者情報」セクションを再度確認する。",
            "商材を「キューエネスでんき」に変更し、表示されることを確認する。"
        ],
        "expectedResult": "「すまいのでんき」と「プラチナでんき」選択時は「メアド」の入力欄が表示されず、「キューエネスでんき」選択時は表示されること。"
    },
    {
        "id": "TC-021",
        "feature": "プラチナでんき 性別必須バリデーション",
        "description": "プラチナでんきで「契約確認なし」の場合に、「性別」が未入力だとコピー時にエラーが表示されることを確認する。",
        "steps": [
            "電気タブを開き、商材で「プラチナでんき（ジャパン）」を選択。",
            "レコードIDに 'SR12345' を入力し、その他必須項目を埋める。",
            "「契確は必要ですか？」で「なし」を選択する。",
            "「性別」は未選択のままにする。",
            "「コピー」ボタンをクリックする。"
        ],
        "expectedResult": "「必須項目が未入力です」というモーダルが表示され、未入力項目リストに「性別」が含まれていること。"
    },
    {
        "id": "TC-022",
        "feature": "キューエネスでんき（イタンジ） 付帯OP必須バリデーション",
        "description": "キューエネスでんきでレコードIDが `ID:` で始まる場合に、「付帯OP」が未入力だとコピー時にエラーが表示されることを確認する。",
        "steps": [
            "電気タブを開き、商材で「キューエネスでんき」を選択。",
            "レコードIDに 'ID:12345' を入力し、その他必須項目を埋める。",
            "「付帯OP」は未選択のままにする。",
            "「コピー」ボタンをクリックする。"
        ],
        "expectedResult": "「必須項目が未入力です」というモーダルが表示され、未入力項目リストに「付帯OP」が含まれていること。"
    },
    {
        "id": "TC-023",
        "feature": "キューエネスでんき（その他販路）新フォーム項目",
        "description": "キューエネスでんきでレコードIDが `No.` で始まる場合に、「主商材受注状況」と「契確時間」が表示され、コメントに反映されることを確認する。",
        "steps": [
            "電気タブを開き、商材で「キューエネスでんき」を選択。",
            "レコードIDに 'No.12345' を入力する。",
            "フォームに「主商材受注状況」と「契確時間」が表示されることを確認する。",
            "「主商材受注状況」を「あり」に設定し、「契確時間」に「14-16時」と入力する。",
            "その他必須項目を埋めて、生成コメントを確認する。"
        ],
        "expectedResult": "生成されたコメントのヘッダー直後に「契確時間：14-16時」が表示され、レコードIDの直後に「主商材受注状況：あり」が表示されていること。"
    },
    {
      "id": "TC-024",
      "feature": "すまいのでんき No. 案件コメント",
      "description": "すまいのでんきでレコードIDが `No.` で始まる場合に、「それ以外」販路と同様のコメントが生成されることを確認する。",
      "steps": [
        "電気タブを開き、商材で「すまいのでんき（ストエネ）」を選択。",
        "レコードIDに 'No.12345' を入力。",
        "「空室」を「なし」、「契確は必要ですか？」を「あり」に設定。",
        "その他必須項目を埋める。"
      ],
      "expectedResult": "生成されたコメントが「【ストエネ】...」で始まる、契確ありの「それ以外」販路と同じテンプレートであること。"
    },
    {
      "id": "TC-025",
      "feature": "契確要否の必須項目チェック修正",
      "description": "「プラチナでんき」で「契確要否」が非表示になる条件（例：サカイ販路でオール電化なし）で、コピー時に必須エラーが出ないことを確認する。",
      "steps": [
        "「サカイ販路」をオンにする。",
        "電気タブを開き、商材で「プラチナでんき（ジャパン）」を選択。",
        "「オール電化」を「なし」に設定する。この時、「契確要否」の選択肢が非表示になることを確認する。",
        "その他必須項目をすべて埋める。",
        "「コピー」ボタンをクリックする。"
      ],
      "expectedResult": "必須項目エラーのモーダルが表示されず、正常にコピーが実行されること。"
    }
  ]
}